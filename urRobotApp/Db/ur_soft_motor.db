record(motor,"$(P)$(SM)") {
    field(DTYP,"Soft Channel")
    field(DESC,"$(DESC=Soft Motor $(SM))")
    field(VELO,"100")
    field(VBAS,"25")
    field(ACCL,"0.5")
    field(OUT,"0")
    field(EGU,"$(EGU)")
    field(MRES,"0.01")
    field(ERES,"0.01")
    field(RRES,"1.0")
    field(PREC,"4")
    field(DHLM,"1E10")
    field(DLLM,"-1E10")
    field(RTRY,"0")
    field(TWV,"1.0")
    field(URIP,"Yes")
    field(RDBL,"$(P)$(SM)CalcRevs.VAL PP MS")
    field(OUT,"$(P)$(SM)CalcFrwd.A PP MS")
    field(DINP,"$(P)$(SM)CalcMove.VAL NPP MS")
    field(STOO,"$(P)$(SM)CalcStop.A PP MS")
}

record(transform,"$(P)$(SM)_ableput") {
  field(CLCB,"a")
  field(CLCC,"a")
  field(OUTA,"$(P)$(SM).DISA NPP NMS")
  field(OUTB,"$(P)$(SM).DISP NPP NMS")
  field(OUTC,"$(P)$(SM).DISA NPP NMS")
}

record(bo,"$(P)$(SM)_able") {
  field(DESC,"softmotor enable")
  field(PINI,"YES")
  field(OUT,"$(P)$(SM)_ableput.A PP MS")
  field(ZNAM,"Enable")
  field(ONAM,"Disable")
}

record(calcout,"$(P)$(SM)CalcFrwd") {
    field(DESC,"$(SM) drive")
    field(PREC,"4")
    field(CALC,"A")
    field(OUT, "$(OUT) PP MS")
}

record(calcout,"$(P)$(SM)CalcRevs") {
    field(DESC,"$(SM) Reverse Calc")
    field(PREC,"4")
    field(INPA, "$(RDBL) CP MS")
    field(CALC,"A")
}

record(bo,"$(P)$(SM)MoveLogic") {
    field(ZNAM,"Invert")
    field(ONAM,"Same")
    field(OUT,"$(P)$(SM)CalcMoveLogic.A PP MS")
}

record(scalcout,"$(P)$(SM)CalcMoveLogic") {
    field(CALC,"A?'A':'!A'")
    field(OUT,"$(P)$(SM)CalcMove.CALC PP MS")
}

record(calcout,"$(P)$(SM)CalcMove") {
    field(DESC,"$(SM) Moving Calc")
    field(INPA, "$(P)Control:Steady.VAL CP MS")
    field(CALC,"A")
    field(OUT,"$(P)$(SM).NTM NPP NMS")
}

record(calcout,"$(P)$(SM)CalcStop") {
    field(DESC,"$(SM) Stop Calc")
    field(CALC,"A")
    field(OUT, "$(P)Control:Stop.PROC PP MS")
}
